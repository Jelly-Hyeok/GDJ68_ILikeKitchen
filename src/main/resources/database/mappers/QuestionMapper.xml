<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

  <mapper namespace="com.ham.main.question.QuestionDAO">
  
  <!-- 게시물 목록 -->
<select id="list" parameterType="QuestionDTO" resultType="QuestionDTO">
 SELECT
  QUESTIONNUM, PRODUCTNUM, ID, QUESTIONCONTENTS, QUESTIONDATE, QUESTIONKIND
 FROM "QUESTION" ORDER BY QUESTIONNUM 
</select>
<!-- 게시물 작성 -->
<insert id="add" parameterType="QuestionDTO">
 INSERT INTO QUESTION
   VALUES(question_seq.nextval, #{productNum},#{id},#{questionContents},sysdate, #{questionKind})
</insert>
  <!-- 게시물 조회 -->
<select id="view" parameterType="Long" resultType="com.ham.main.question.QuestionDTO">
 select 
  questionNum, productNum, id, questionKind, questionContents, questionDate
 from 
  QUESTION
 where
  questionNum = #{questionNum}   
</select>
<!-- 게시물 수정 -->
<update id="update" parameterType="QuestionDTO" >
 UPDATE QUESTION
  SET
   questionKind=#{questionKind},
   questionDate = sysdate,
   questionContents = #{questionContents}
  where questionNum = #{questionNum}
</update>
<!-- 게시물 삭제 -->
<delete id="delete" parameterType="Long">
 delete
  from QUESTION
 where questionNum = #{questionNum}
</delete>
<!-- 게시물 총 갯수 -->
<select id="count" resultType="Long">
 select count(questionNum) from QUESTION
</select>
<!-- 게시물 목록 + 페이징 -->
<select id="listPage" parameterType="hashMap" resultType="QuestionDTO">
 select
  questionNum, productNum, id, questionContents, questionDate, questionKind
 from QUESTION
 order by questionNum desc
  limit #{displayPost}, #{postNum}
</select>

  </mapper>